<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Lounge by bojand</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Lounge</h1>
      <h2 class="project-tagline">Simple Mongoose-inspired ODM for Couchbase.</h2>
      <a href="https://github.com/bojand/lounge" class="btn">View on GitHub</a>
      <a href="https://github.com/bojand/lounge/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/bojand/lounge/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="lounge" class="anchor" href="#lounge" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lounge</h1>

<p>Simple Mongoose-inspired ODM for <a href="http://www.couchbase.com">Couchbase</a>.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p><code>npm install lounge</code></p>

<h2>
<a id="stability" class="anchor" href="#stability" aria-hidden="true"><span class="octicon octicon-link"></span></a>Stability</h2>

<p>This module is under development and there could be bugs. API may not be 100% locked down. 
Documentation is still work in progress.</p>

<h2>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h2>

<p>Lounge is a simple, somewhat opinionated, Mongoose-inspired ODM for <a href="http://www.couchbase.com">Couchbase</a>. Main goal is
to provide modeling tool framework for working with Couchbase databases in an asynchronous environment of Node.js. </p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> lounge <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>lounge<span class="pl-pds">'</span></span>);
<span class="pl-smi">lounge</span>.<span class="pl-en">connect</span>({ 
  connectionString<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>couchbase://127.0.0.1<span class="pl-pds">'</span></span>,
  bucket<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lounge_test<span class="pl-pds">'</span></span>
});

<span class="pl-k">var</span> schema <span class="pl-k">=</span> <span class="pl-smi">lounge</span>.<span class="pl-en">schema</span>({ name<span class="pl-k">:</span> <span class="pl-c1">String</span> });
<span class="pl-k">var</span> Cat <span class="pl-k">=</span> <span class="pl-smi">lounge</span>.<span class="pl-en">model</span>(<span class="pl-s"><span class="pl-pds">'</span>Cat<span class="pl-pds">'</span></span>, schema);

<span class="pl-k">var</span> kitty <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Cat</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Zildjian<span class="pl-pds">'</span></span> });
<span class="pl-smi">kitty</span>.<span class="pl-en">save</span>(<span class="pl-k">function</span> (<span class="pl-smi">err</span>) {
  <span class="pl-k">if</span> (err) <span class="pl-c">// ...</span>
  <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>meow<span class="pl-pds">'</span></span>);
});</pre></div>

<h5>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features:</h5>

<ul>
<li>Schema definition</li>
<li>Strict modelling based on schema</li>
<li>Schema extension</li>
<li>Automatic type validation and custom validation</li>
<li>Document upsert and removal</li>
<li>Embedded (referenced) documents</li>
<li>Automatic and manual population of embedded (referenced) document</li>
<li>Middleware including pre and post hooks</li>
<li>Indexing using <a href="http://docs.couchbase.com/developer/dev-guide-3.0/lookups.html">reference lookup documents</a>
</li>
</ul>

<h5>
<a id="outside-of-the-scope-of-this-module" class="anchor" href="#outside-of-the-scope-of-this-module" aria-hidden="true"><span class="octicon octicon-link"></span></a>Outside of the scope of this module:</h5>

<ul>
<li>Document and view management. There are too many patterns and ways of performing document and view management and 
view lookup that it is impractical to accommodate anything sane within a simple ODM. This can easily be expanded
on top of Lounge.</li>
<li>View queries. For same reasons this falls outside of the scope of Lounge.</li>
<li>Automatic document removal on key change. That is if a document key property changes, the new document is saved under
the new key. The old document sticks around under the old key. There are too many implications if we start automatically
handle document removal in this scenario. This should be handled by the user of this module.</li>
</ul>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<ul>
<li><a href="http://bojand.github.io/lounge/guide">Guide</a></li>
<li><a href="http://bojand.github.io/lounge/api">API Documentation</a></li>
</ul>

<h2>
<a id="tests" class="anchor" href="#tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>TESTS</h2>

<p>Module automated tests can be run using <code>npm test</code> command. The tests are executed using <a href="https://github.com/couchbase/couchnode#mock-testing">Couchbase mocking</a>.
To run tests against an actual local database create a bucket <code>lounge_test</code> and remove <code>LOUNGE_COUCHBASE_MOCK=true</code> from
<code>test</code> script property in <code>package.json</code>.</p>

<h2>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span class="octicon octicon-link"></span></a>TODO</h2>

<p>See <a href="https://github.com/bojand/lounge/blob/master/TODO.md">TODO.md</a>.</p>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Lots of code and design inspired by <a href="http://mongoosejs.com/">Mongoose</a>.
Uses modified version of <a href="https://github.com/jwerle/draft">Draft</a> for schema and modelling.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright 2015 Bojan Djurkovic</p>

<p>Licensed under the MIT License.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/bojand/lounge">Lounge</a> is maintained by <a href="https://github.com/bojand">bojand</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
