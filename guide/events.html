<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Lounge</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" type="text/css">
    <link rel="stylesheet" href="../api/css/bootstrap.css">
    <link rel="stylesheet" href="../api/css/cayman.css">
    <link rel="stylesheet" href="../api/css/prism.css">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Lounge</h1>

    <h2 class="project-tagline">Simple Mongoose-inspired ODM for Couchbase</h2>
    <a href="http://bojand.github.io/lounge" class="btn">Home</a>
    <a href="https://github.com/bojand/lounge" target="_blank" class="btn">View on GitHub</a>
    <a href="https://npmjs.com/package/lounge" target="_blank" class="btn">View on npm</a>
</section>
<section data-spy="scroll" data-target=".scrollspy" class="main-content">
    <div class="row">
        <div class="col-md-3 col-xs-3 bs-docs-sidebar">
            <ul id="sidebar" class="nav nav-stacked fixed">
                <li><a href="index.html">Setup</a></li>
                <li><a href="model.html">Modelling</a></li>
                <li><a href="mw.html">Middleware</a></li>
                <li><a href="extend.html">Schema Extension</a></li>
                <li><a href="embedded.html">Embedded</a></li>
                <li><a href="saving.html">Saving Documents</a></li>
                <li><a href="getting.html">Retrieving Documents</a></li>
                <li><a href="removing.html">Removing Documents</a></li>
                <li><a href="populate.html">Population</a></li>
                <li><a href="indexes.html">Indexes</a></li>
                <li><a href="events.html">Events</a></li>
            </ul>
        </div>
        <div class="col-md-9">
            <section id="Main" class="readme">
<h3 id="events-a-id-events-a-">Events <a id="events"></a></h3>
<p>All model instances inherit <a href="https://nodejs.org/api/events.html#events_class_events_eventemitter"><code>EventEmitter</code></a>, and 
emit three events:</p>
<ul>
<li><code>index</code> - when indexing of lookup documents finished regardless if successful or not. Emits <code>error</code> if there was any.</li>
<li><code>save</code> - when the document was successfully saved.</li>
<li><code>remove</code> - when the document was successfully removed.</li>
</ul>
<pre><code class="lang-js">var userSchema = lounge.schema({
  name: String,
  email: {type: String, index: true}
});

var User = lounge.model(&#39;User&#39;, userSchema);
var user = new User({
  name: &#39;Bob Smith&#39;,
  email: &#39;bob@gmail.com&#39;
});

user.on(&#39;index&#39;, function (err) {
  if(err) console.log(&#39;Error indexing document&#39; + err.message);
});

user.on(&#39;remove&#39;, function (doc) {
  console.log(&#39;document removed&#39;);
});

user.on(&#39;save&#39;, function (doc) {
  console.log(&#39;document saved&#39;);
});
</code></pre>
</section>
</div>
</div>
</section>
<script src="../api/js/jquery.min.js"></script>
<script src="../api/js/bootstrap.min.js"></script>
<script src="../api/js/affix.js"></script>
<script src="../api/js/dropdown.js"></script>
<script src="../api/js/scrollspy.js"></script>
<script src="../api/js/prism.js"></script>
<script src="../api/js/prism-bash.js"></script>
<script>
    $(document).ready(function () {
        $('body').scrollspy({
            target: ".bs-docs-sidebar",
            offset: 40
        });
        $('#sidebar').affix({
            offset: {
                bottom: 60,
                top: 60
            }
        })
    });
</script>
</body>
</html>