<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Lounge</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/cayman.css">
    <link rel="stylesheet" href="css/prism.css">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Lounge</h1>

    <h2 class="project-tagline">Simple Mongoose-inspired ODM for Couchbase</h2><a
        href="https://github.com/bojand/lounge" target="_blank" class="btn">View on GitHub</a><a
        href="https://npmjs.com/package/lounge" target="_blank" class="btn">View on npm</a>
</section>
<section data-spy="scroll" data-target=".scrollspy" class="main-content">
    <div class="row">
        <div class="col-md-3 col-xs-3 bs-docs-sidebar">
            <ul id="sidebar" class="nav nav-stacked fixed">
                <li><a href="header.html">Setup</a></li>
                <li><a href="model.html">Modelling</a></li>
                <li><a href="mw.html">Middleware</a></li>
                <li><a href="extend.html">Schema Extension</a></li>
                <li><a href="embedded.html">Embedded</a></li>
                <li><a href="saving.html">Saving Documents</a></li>
                <li><a href="getting.md">Retrieving Documents</a></li>
                <li><a href="removing.md">Removing Documents</a></li>
                <li><a href="populate.html">Population</a></li>
                <li><a href="indexes.html">Indexes</a></li>
                <li><a href="events.html">Events</a></li>
            </ul>
        </div>
        <div class="col-md-9">
            <section id="Main" class="readme">
<h3 id="population-a-id-population-a-">Population <a id="population"></a></h3>
<p><code>findById</code> comes with an options parameter that can have one property <code>populate</code> that can be used to dictate 
if and how we want to get any embedded subdocuments from the database. If <code>populate</code> option is <code>true</code> all embedded 
subdocuments are retrieved from the database.</p>
<p>From our &quot;Embedded Documents&quot; example, if we were to retrieve the user document created:</p>
<pre><code class="lang-js">User.findById(userId, {populate: true}, function(err, doc) {
  console.log(user instanceof User); // true
  console.log(user.address instanceof Address); // true
  console.log(user.posts[0] instanceof BlogPost); // true

  console.log(user); // full user document with retrieved address and posts subdocuments
});
</code></pre>
<p>We can specify a single field to populate:</p>
<pre><code class="lang-js">User.findById(userId, {populate: &#39;address&#39;}, function(err, doc) {
  console.log(user instanceof User); // true
  console.log(user.address instanceof Address); // true
  console.log(user.posts[0] instanceof BlogPost); // false 
  console.log(user.posts[0] instanceof String); // true - posts is an array of string keys
});
</code></pre>
<pre><code class="lang-js">User.findById(userId, {populate: &#39;posts&#39;}, function(err, doc) {
  console.log(user instanceof User); // true
  console.log(user.address instanceof Address); // false
  console.log(user.posts[0] instanceof BlogPost); // true
});
</code></pre>
<p>We can explicitly specify array indexes to populate</p>
<pre><code class="lang-js">User.findById(userId, {populate: &#39;posts.1&#39;}, function(err, doc) {
  console.log(user instanceof User); // true
  console.log(user.address instanceof Address); // false
  console.log(user.posts[0] instanceof BlogPost); // false
  console.log(user.posts[0] instanceof String); // true
  console.log(user.posts[1] instanceof BlogPost); // true - fully populated
});
</code></pre>
<p>Finally, <code>populate</code> can accept an array if fields to populate:</p>
<pre><code class="lang-js">User.findById(userId, {populate: [&#39;address&#39;, &#39;posts.1&#39;]}, function(err, doc) {
  console.log(user instanceof User); // true
  console.log(user.address instanceof Address); // true - fully populated
  console.log(user.posts[0] instanceof BlogPost); // false
  console.log(user.posts[0] instanceof String); // true
  console.log(user.posts[1] instanceof BlogPost); // true - fully populated
});
</code></pre>
</section>
</div>
</div>
</section>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/affix.js"></script>
<script src="js/dropdown.js"></script>
<script src="js/scrollspy.js"></script>
<script src="js/prism.js"></script>
<script src="js/prism-bash.js"></script>
<script>
    $(document).ready(function () {
        $('body').scrollspy({
            target: ".bs-docs-sidebar",
            offset: 40
        });
        $('#sidebar').affix({
            offset: {
                bottom: 60,
                top: 60
            }
        })
    });
</script>
</body>
</html>